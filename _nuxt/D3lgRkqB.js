import{i as g,t as r,v as n,y as V,J as $,K as a,_ as N,x as u,d as A,L as q,M as L,N as w,O as R,P as U,Q as z,R as J,S as K,r as h,o as O,E as D,T as C,U as T,z as v,V as k}from"./7-MpuAiC.js";import{u as E,_ as P}from"./BFIKk99g.js";const M={__name:"Button",props:{label:String,variant:{type:String,default:"primary"}},setup(p){const s=p,i=g(()=>s.variant==="primary"?"px-4 py-2 bg-blue-500 text-white rounded":"px-4 py-2 bg-gray-300 text-black rounded");return(o,c)=>(r(),n("button",{class:$(a(i)),onClick:c[0]||(c[0]=b=>o.$emit("click"))},V(p.label),3))}},I={},Q={class:"flex justify-center items-center"};function G(p,s){return r(),n("div",Q,s[0]||(s[0]=[u("div",{class:"loader"},null,-1)]))}const H=N(I,[["render",G],["__scopeId","data-v-9dc85b01"]]),W={for:"checkbox",class:"ml-2 cursor-pointer text-gray-700 text-nowrap"},X=A({inheritAttrs:!1,__name:"CheckBox",props:q({modelValue:{type:Boolean},label:{},className:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const s=L(p,"modelValue");return(i,o)=>(r(),n("div",{class:$(`${i.className} items-center`)},[w(u("input",U({type:"checkbox"},i.$attrs,{"onUpdate:modelValue":o[0]||(o[0]=c=>s.value=c),id:"checkbox",class:"h-5 w-5 accent-primary cursor-pointer"}),null,16),[[R,s.value]]),u("label",W,V(i.label),1)],2))}}),Y={class:"mx-auto flex flex-col justify-between my-auto"},Z={class:"flex flex-col md:flex-row justify-between items-center mx-4 md:py-4 space-x-4"},ee={class:"flex gap-2 my-1"},te={key:0},oe={key:0,class:"text-center my-4"},se={key:1,class:"text-center my-4"},le={key:2,class:"text-center text-red-500"},ae={key:3,class:"text-center mt-16 text-gray-500"},ue=A({__name:"index",setup(p){const s=z(),i=J(),o=E(),{jobs:c,isLoading:b,error:S,hasMore:j}=K(o),x=h(""),_=h(""),l=h(!1),d=g({get:()=>x.value,set:t=>{x.value=t.replace(/\s+/g," ").trim()}}),m=g({get:()=>_.value,set:t=>{_.value=t.replace(/\s+/g," ").trim()}});O(()=>{const t=i.query;d.value=Array.isArray(t.searchTerm)?t.searchTerm[0]||"":(t.keyword??"").toString(),m.value=Array.isArray(t.location)?t.location[0]||"":(t.location??"").toString(),l.value=t.fullTime==="true",o.fetchJobs(1,d.value,m.value,l.value)});const f=()=>{s.push({query:{keyword:d.value||void 0,location:m.value||void 0,fullTime:l.value?"true":void 0}}),o.applyFilters(d.value,m.value,l.value)},B=()=>{x.value="",_.value="",l.value=!1,s.push({query:{}}),o.resetFilters()},F=()=>{o.loadMoreJobs()};return D(i,t=>{const e=t.query;d.value=Array.isArray(e.keyword)?e.keyword[0]||"":(e.keyword??"").toString(),m.value=Array.isArray(e.location)?e.location[0]||"":(e.location??"").toString(),l.value=e.fullTime==="true",o.applyFilters(d.value,m.value,l.value)}),(t,e)=>(r(),n("div",Y,[u("div",Z,[w(u("input",{"onUpdate:modelValue":e[0]||(e[0]=y=>d.value=y),type:"text",placeholder:"Company or job title",class:"border p-2 rounded w-full hover:border-secondary outline-primary",onKeyup:T(f,["enter"])},null,544),[[C,d.value]]),w(u("input",{"onUpdate:modelValue":e[1]||(e[1]=y=>m.value=y),type:"text",placeholder:"Location",class:"border p-2 rounded hidden md:block w-full hover:border-secondary outline-primary",onKeyup:T(f,["enter"])},null,544),[[C,m.value]]),v(X,{"class-name":"hidden md:flex",modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=y=>l.value=y),label:"Only Full Time",onClick:f},null,8,["modelValue"]),u("div",ee,[v(M,{onClick:f,label:"Search"}),v(M,{onClick:B,label:"Reset Filters",variant:"secondary"})])]),a(c).length?(r(),n("div",te,[v(P,{jobs:a(c)},null,8,["jobs"]),a(j)?(r(),n("div",oe,[u("button",{onClick:F,class:"px-4 py-2 bg-blue-500 text-white rounded"}," Load More ")])):k("",!0)])):k("",!0),a(b)?(r(),n("div",se,[v(H)])):a(S)?(r(),n("div",le,V(a(S)),1)):!a(b)&&!a(c).length?(r(),n("div",ae,e[3]||(e[3]=[u("p",null,"No results found.",-1)]))):k("",!0)]))}});export{ue as default};
